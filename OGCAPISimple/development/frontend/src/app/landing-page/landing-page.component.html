<!--
    The OGC API Simple provides enviromental data
    Created on Wed Feb 26 2020
    Copyright (c) 2020 - Lukas Gäbler

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<app-nav></app-nav>
<h2 style="text-align: center; margin-top: 1%">OGC API Simple</h2>
<div class="row card-deck">
    <div class="card card-top">
        <p><a id="conformance" routerLink="/conformance" target="_blank">Conformance declaration</a></p>
    </div>
    <div class="card card-top">
        <p><a id="collections" href="collections?f=text%2Fhtml">Feature Collections</a></p>
    </div>
</div>

<div class="row card-deck">
    <div class="card card-custom">
        <div class="card-header">API definition</div>
        <div class="card-body">
            <p class="card-text">
                The API definition provides a machine precessable description of this service API conformant to OpenAPI 3.
            </p>
            <p>
                It is available as
                <a href="api?f=application%2Fjson">application/json</a> and
                <a href="api">text/html</a>
            </p>
        </div>
    </div>
    <div class="card card-custom">
        <div class="card-header">INSPIRE</div>
        <div class="card-body">
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="https://inspire.ec.europa.eu/" class="btn btn-primary" target="_blank">INSPIRE Website</a>
        </div>
    </div>
    <div class="card card-custom">
        <div class="card-header">What is the OGC API?</div>
        <div class="card-body">
            <p class="card-text">
                The OGC API is a REST API in which enviromental data is provided.
            </p>
            <a href="https://www.opengeospatial.org/standards/ogcapi-features" class="btn btn-primary" target="_blank">OGC API Specifications</a>
        </div>
    </div>
</div>

<br />

<div class="row" *ngIf="this.showLoading">
    <div class="col-sm-4"></div>
    <div class="col-sm-4" style="text-align: center;">
        <img src="assets/img/loading.gif" width="150"/>
    </div>
    <div class="col-sm-4"></div>
</div>

<br />

<div class="row" style="margin-bottom: 2%">
    <div class="col-sm-8">
        <div class="card" style="width: 100%">
            <div id="map" class="map"></div>
        </div>
    </div>
    <div class="col-sm-4">
        <div>
            <table class="table" fixed-header>
                <thead>
                    <tr class="table-head" fixed-header>
                        <th scope="col" class="table-head-font-weight-normal">#</th>
                        <th scope="col" class="table-head-font-weight-normal">Collection</th>
                        <th scope="col" class="table-head-font-weight-normal" style="text-align: center">Show in map</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let thing of collections; let i = index" class="tableRow">
                        <ng-template [ngIf]="thing?.extent">
                            <th scope="row">{{ i+1 }}</th>
                            <td style="word-wrap: break-word">{{ thing?.id }}</td>
                            <td style="text-align: center">
                                <input type="checkbox" (click)="onClick($event)" />
                            </td>
                        </ng-template>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

<footer class="pt-4 my-md-5 pt-md-5 border-top">
    <div class="row">
        <div class="col-8 col-md">
            <h5>Important Links</h5>
            <ul class="list-unstyled text-small">
                <li *ngFor="let link of importantLinks">
                    <a href="{{ link.link }}">{{ link.name }}</a>
                </li>

                <li>
                    <a class="text-muted" href="#"></a>
                </li>
            </ul>
        </div>
        <div class="col-8 col-md">
            <h5>Lukas Gäbler</h5>
            <h6><b>Mail: </b><a href="mailto:lukas.gaebler@gmail.com?Subject=OGC%API" target="_top">lukas.gaebler@gmail.com</a></h6>
        </div>
        <div class="col-8 col-md">
            <h5>Tobias Pressler</h5>
            <h6><b>Mail: </b><a href="mailto:pressler.tobias@gmail.com?Subject=OGC%API" target="_top">pressler.tobias@gmail.com</a></h6>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            © 2020 Lukas Gäbler, Tobias Pressler
        </div>
    </div>
</footer>